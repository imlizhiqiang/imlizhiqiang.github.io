---
title: 关于并发问题的总结
tags: 总结
---

#

<!-- more -->

## 什么是并发问题

多个执行过程同时对共享资源进行写操作，从而引发竞争。这就是并发问题。

这里有两个前提，必须全部符合，才能引发并发问题：

1. 多个过程共享一个资源，如果每个过程都有属于自己的资源那么不会有并发问题
2. 所有过程都可以写这个资源，如果这个资源是只读的，或者最多只有一个过程能写它，那么不会有并发问题。

在此基础上再进行抽象，可以说并发问题是无限的需求要争夺有限的资源，所以本质上来说并发问题是一个经济学问题。

并发问题在很多编程场景中都有表现，比如：

在支持多线程的语言中，比如 java，表现为多线程问题。
在 web 程序中，表现为高并发流量下的 IO 优化问题。可以认为是无限的用户请求要争夺有限的 CPU 和 IO 资源。
在数据库中，表现为事务及其隔离级别。同时数据库也有并发 IO 优化的场景。

所以当说到“并发”的时候，需要根据当前的语境确定具体的问题，是竞争问题？还是优化问题？一般来说多线程时遇到竞争，是逻辑问题，而大量请求的场景是性能问题。

下面对不同场景中的并发问题进行简述。

程序不能直接操作磁盘，只能操作内存，由操作系统将数据从磁盘读入内存或者从内存写入磁盘。

基于此，数据库本身也不能直接操作磁盘，只能操作内存中的数据，在事务 COMMIT 提交的一瞬间，通知操作系统将内存中的数据写入到磁盘中。并发事务及其隔离级别就在于对于这块内存的访问。
